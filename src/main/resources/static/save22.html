<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <title>Document</title>
</head>

<body>
<div id="w_all">
    <div id="wrap">
        <div id="header">
            <div class="headerIn">
                <h1 class="logoTop "><a href="/home.html">Onessol</a>
                </h1>
                <div class="rog">
                    <ul>
                        <li class="rog li"><a href="/login.html">로그인</a>
                        </li>
                        <li class="rog li"><a href="/save.html">회원가입</a>
                        </li>
                        <li><a href="/order.html">주문내역</a></li>
                        <li><a href="/mypage.html">마이페이지</a></li>
                        <li class="ct"><a href="/order/basket.html" class="cart_count">장바구니 0</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div id="container">
            <div id="c_left">
                <div class="menu1">
                    <ul>
                        <li class="xans-record-"><a href="/product/list.html?cate_no=25">OUTER</a></li>
                        <li class="xans-record-"><a href="/product/list.html?cate_no=26">TOP</a></li>
                        <li class="xans-record-"><a href="/product/list.html?cate_no=27">BOTTOM</a></li>
                        <li class="xans-record-"><a href="/product/list.html?cate_no=28">ACCESSORY</a></li>
                    </ul>
                </div>

                <div class="menu2">
                    <ul>
                        <li class="xans-record-"><a href="/board/notice/1/">NOTICE</a></li>
                        <li class="xans-record-"><a href="/board/review/4/">REVIEW</a></li>
                        <li class="xans-record-"><a href="/board/qa/6/">Q&amp;A</a></li>

                    </ul>
                </div>

                <form id="searchBarForm" name="" action="/product/search.html" method="get" target="_self"
                      enctype="multipart/form-data">
                    <input id="banner_action" name="banner_action" value="" type="hidden">
                    <div class="xans-element- xans-layout xans-layout-searchheader "><!--
  $product_page=/product/detail.html
  $category_page=/product/list.html
  -->
                        <fieldset>
                            <a href="#" onclick="SEARCH_BANNER.submitSearchBanner(this); return false;"><img
                                    src="./img/search_icon.png" alt="search"></a><input id="keyword" name="keyword"
                                                                                        fw-filter="" fw-label="검색어" fw-msg="" class="inputTypeText" placeholder=""
                                                                                        onmousedown="SEARCH_BANNER.clickSearchForm(this)" value="" type="text">
                        </fieldset>
                    </div>
                </form>
            </div>
            <div class="main">
                <div class="inner-div">
                    <form onsubmit="return saveMember();">
                        <input type="text" placeholder="ID" id="memberId" name="memberId" class="account"> <br>
                        <input type="password" placeholder="Password" id="password" name="password" class="account">
                        <br>
                        <input type="text" placeholder="name" id="name" name="memberName" class="account"> <br>
                        <input type="text" placeholder="phone" id="phoneNum" name="phoneNum" class="account"> <br>
                        <input type="text" placeholder="email" id="email" name="email" class="account"> <br>
                        <input type="text" placeholder="city" id="address1" name="address1" class="account"> <br>
                        <input type="text" placeholder="street" id="address2" name="address2" class="account"> <br>
                        <input type="text" placeholder="zipcode" id="address3" name="address3" class="account"> <br>
                        <input type="submit" id="login" class="account" value="login">
                        <p id="alert" class="account"></p>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
        function saveMember() {
            const memberId = document.querySelector('input[name=memberId]').value;
            const password = document.querySelector('input[name=password]').value;
            const name = document.querySelector('input[name=memberName]').value;
            const phoneNum = document.querySelector('input[name=phoneNum]').value;
            const email = document.querySelector('input[name=email]').value;

            const requestObject = {
                username: memberId,
                password: password,
                name: name,
                phoneNum: phoneNum,
                email: email
            };

            fetch('/auth/save', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestObject)
            })
                .then(response => {
                    if (response.state === 200) {
                        alert("로그인 성공");
                    } else {
                        console.error("로그인 실패");
                    }
                })
                .catch(error => {
                    console.error('required failed', error);
                });
            return false;
        }
    </script>
</body>

</html>